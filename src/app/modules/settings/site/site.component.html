<div class="d-flex items-center gap-2">
  <app-settings-sidebar></app-settings-sidebar>

  <section class="bg-white p-4 w-full h-fit flex-grow-1">
    <div class="border-bottom mb-4 pb-2">
      <span class="section-title text-black">Site</span>
    </div>

    <div class="company-form-container">
      <form [formGroup]="siteForm" (ngSubmit)="submitForm()" class="space-y-1">
        <!-- Row 1 -->
        <div class="d-flex align-items-center gap-4 justify-content-between flex-wrap flex-md-nowrap">
          <div class="form-group w-100 w-md-50 mb-2">
            <label for="name" class="form-label">Name <span class="text-danger">*</span></label>
            <input id="name" type="text" class="form-control bg-white" formControlName="name"
              [class.is-invalid]="siteForm.get('name')?.invalid && siteForm.get('name')?.touched" />
            <div *ngIf="siteForm.get('name')?.invalid && siteForm.get('name')?.touched" class="invalid-feedback">
              Name is required.
            </div>
          </div>

          <div class="form-group w-100 w-md-50 mb-2">
            <label for="email" class="form-label">Email <span class="text-danger">*</span></label>
            <input id="email" type="email" class="form-control bg-white" formControlName="email"
              [class.is-invalid]="siteForm.get('email')?.invalid && siteForm.get('email')?.touched" />
            <div *ngIf="siteForm.get('email')?.invalid && siteForm.get('email')?.touched" class="invalid-feedback">
              <span *ngIf="siteForm.get('email')?.errors?.['required']">Email is required.</span>
              <span *ngIf="siteForm.get('email')?.errors?.['email']">Invalid email format.</span>
            </div>
          </div>
        </div>

        <!-- Row 2 -->
        <div class="d-flex align-items-center gap-4 justify-content-between flex-wrap flex-md-nowrap">
          <div class="form-group w-100 w-md-50 mb-2">
            <label for="defaultLanguage" class="form-label">Default Language</label>
            <select id="defaultLanguage" class="form-select bg-white" formControlName="defaultLanguage"
              [class.is-invalid]="siteForm.get('defaultLanguage')?.invalid && siteForm.get('defaultLanguage')?.touched">
              <option value="" disabled>--</option>
              <option *ngFor="let language of languages" [value]="language.value">{{ language.viewValue }}</option>
            </select>
            <div *ngIf="siteForm.get('defaultLanguage')?.invalid && siteForm.get('defaultLanguage')?.touched"
              class="invalid-feedback">
              Default Language is required.
            </div>
          </div>

          <div class="form-group w-100 w-md-50 mb-2">
            <label for="defaultBranch" class="form-label">Default Branch</label>
            <select id="defaultBranch" class="form-select bg-white" formControlName="defaultBranch"
              [class.is-invalid]="siteForm.get('defaultBranch')?.invalid && siteForm.get('defaultBranch')?.touched">
              <option value="" disabled>--</option>
              <option *ngFor="let branch of branches" [value]="branch.value">{{ branch.viewValue }}</option>
            </select>
            <div *ngIf="siteForm.get('defaultBranch')?.invalid && siteForm.get('defaultBranch')?.touched"
              class="invalid-feedback">
              Default Branch is required.
            </div>
          </div>
        </div>

        <!-- Row 3 -->
        <div class="d-flex align-items-center gap-4 justify-content-between flex-wrap flex-md-nowrap">
          <div class="form-group w-100 w-md-50 mb-2">
            <label for="androidAPPLink" class="form-label">Android App Link</label>
            <input id="androidAPPLink" type="text" class="form-control bg-white" formControlName="androidAPPLink"
              [class.is-invalid]="siteForm.get('androidAPPLink')?.invalid && siteForm.get('androidAPPLink')?.touched" />
            <div *ngIf="siteForm.get('androidAPPLink')?.invalid && siteForm.get('androidAPPLink')?.touched"
              class="invalid-feedback">
              <div *ngIf="siteForm.get('androidAPPLink')?.errors?.['required']">
                Android App Link is required.
              </div>
              <div *ngIf="siteForm.get('androidAPPLink')?.errors?.['pattern']">
                Android App Link must be a valid URL starting with http:// or https://.
              </div>
            </div>
          </div>

          <div class="form-group w-100 w-md-50 mb-2">
            <label for="iosappLink" class="form-label">iOS App Link</label>
            <input id="iosappLink" type="text" class="form-control bg-white" formControlName="iosappLink"
              [class.is-invalid]="siteForm.get('iosappLink')?.invalid && siteForm.get('iosappLink')?.touched" />
            <div *ngIf="siteForm.get('iosappLink')?.invalid && siteForm.get('iosappLink')?.touched"
              class="invalid-feedback">
              <div *ngIf="siteForm.get('iosappLink')?.errors?.['required']">
                iOS App Link is required.
              </div>
              <div *ngIf="siteForm.get('iosappLink')?.errors?.['pattern']">
                iOS App Link must be a valid URL starting with http:// or https://.
              </div>
            </div>
          </div>
        </div>

        <!-- Row 4 -->
        <div class="d-flex align-items-center gap-4 justify-content-between flex-wrap flex-md-nowrap">
          <div class="form-group w-100 w-md-50 mb-2">
            <label for="copyrights" class="form-label">Copyrights</label>
            <input id="copyrights" type="text" class="form-control bg-white" formControlName="copyrights"
              [class.is-invalid]="siteForm.get('copyrights')?.invalid && siteForm.get('copyrights')?.touched" />
            <div *ngIf="siteForm.get('copyrights')?.invalid && siteForm.get('copyrights')?.touched"
              class="invalid-feedback">
              Copyrights are required.
            </div>
          </div>

          <div class="form-group w-100 w-md-50 mb-2">
            <label for="googleMapKey" class="form-label">Google Map Key</label>
            <input id="googleMapKey" type="text" class="form-control bg-white" formControlName="googleMapKey"
              [class.is-invalid]="siteForm.get('googleMapKey')?.invalid && siteForm.get('googleMapKey')?.touched" />
            <div *ngIf="siteForm.get('googleMapKey')?.invalid && siteForm.get('googleMapKey')?.touched"
              class="invalid-feedback">
              Google Map Key is required.
            </div>
          </div>
        </div>

        <!-- Row 5 -->
        <div class="d-flex align-items-center gap-4 justify-content-between flex-wrap flex-md-nowrap">
          <div class="form-group w-100 w-md-50 mb-2">
            <label for="digitAfterDecimal" class="form-label">Digit After Decimal <span class="text-danger">( Ex: 0.00
                )</span> </label>
            <input id="digitAfterDecimal" type="text" class="form-control bg-white" formControlName="digitAfterDecimal"
              [class.is-invalid]="siteForm.get('digitAfterDecimal')?.invalid && siteForm.get('digitAfterDecimal')?.touched" />
            <div *ngIf="siteForm.get('digitAfterDecimal')?.invalid && siteForm.get('digitAfterDecimal')?.touched"
              class="invalid-feedback">
              Digit After Decimal are required.
            </div>
          </div>

          <div class="form-group w-100 w-md-50 mb-2">
            <label for="defaultCurrency" class="form-label">Default Currency</label>
            <select id="defaultCurrency" class="form-select bg-white" formControlName="defaultCurrency"
              [class.is-invalid]="siteForm.get('defaultCurrency')?.invalid && siteForm.get('defaultCurrency')?.touched">
              <option value="" disabled>--</option>
              <option *ngFor="let currency of currencies" [value]="currency.value">{{ currency.viewValue }}</option>
            </select>
            <div *ngIf="siteForm.get('defaultCurrency')?.invalid && siteForm.get('defaultCurrency')?.touched"
              class="invalid-feedback">
              Default Currency is required.
            </div>
          </div>
        </div>

        <div>
          <label for="currencyPosition" class="form-label">Currency Position</label>
          <div class="d-flex align-items-center gap-2">
            <label class="btn radio-label">
              <input type="radio" id="leftCurrency" formControlName="currencyPosition" [value]="1" class="d-none">
              Left
            </label>
            <label class="btn radio-label">
              <input type="radio" id="rightCurrency" formControlName="currencyPosition" [value]="0" class="d-none">
              Right
            </label>
          </div>
          <div
            *ngIf="siteForm.get('currencyPosition')?.invalid && (siteForm.get('currencyPosition')?.touched || siteForm.get('currencyPosition')?.dirty)"
            class="text-danger mt-2">
            <small *ngIf="siteForm.get('currencyPosition')?.errors?.['required']">
              Currency Position is required.
            </small>
          </div>
        </div>

        <div class="mt-3">
          <label for="languageSwitch" class="form-label">Language Switch</label>
          <div class="d-flex align-items-center gap-2">
            <label class="btn radio-label">
              <input type="radio" id="leftCurrency" formControlName="languageSwitch" [value]="1" class="d-none">
              Enable
            </label>
            <label class="btn radio-label">
              <input type="radio" id="rightCurrency" formControlName="languageSwitch" [value]="0" class="d-none">
              Disable
            </label>
          </div>
          <div
            *ngIf="siteForm.get('languageSwitch')?.invalid && (siteForm.get('languageSwitch')?.touched || siteForm.get('languageSwitch')?.dirty)"
            class="text-danger mt-2">
            <small *ngIf="siteForm.get('languageSwitch')?.errors?.['required']">
              Language Switch is required.
            </small>
          </div>
        </div>

        <!-- Actions -->
        <div class="d-flex">
          <div class="mt-4">
            <button type="submit" class="btn btn-danger">Save</button>
          </div>
        </div>
      </form>
    </div>
  </section>

</div>
